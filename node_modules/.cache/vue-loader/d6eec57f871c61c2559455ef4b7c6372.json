{"remainingRequest":"/Users/js-air-01/Documents/Dilip-Project/JJ-Active/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/js-air-01/Documents/Dilip-Project/JJ-Active/src/views/DownloadCertificate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/js-air-01/Documents/Dilip-Project/JJ-Active/src/views/DownloadCertificate.vue","mtime":1661775761398},{"path":"/Users/js-air-01/Documents/Dilip-Project/JJ-Active/node_modules/cache-loader/dist/cjs.js","mtime":1660658985323},{"path":"/Users/js-air-01/Documents/Dilip-Project/JJ-Active/node_modules/vue-loader/lib/index.js","mtime":1660658977353}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBodG1sMnBkZiBmcm9tICJodG1sMnBkZi5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbImRhdGEiXSwKICAgIGNvbXBvbmVudHM6IHt9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICAgIGNlcnRpZmljYXRlTmFtZTogdGhpcy4kcm91dGUucGFyYW1zLm5hbWUgPyB0aGlzLiRyb3V0ZS5wYXJhbXMubmFtZSA6ICcnLAogICAgICAgICAgICBjZXJ0aWZpY2F0ZUltYWdlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaW1hZ2UgPyB0aGlzLiRyb3V0ZS5wYXJhbXMuaW1hZ2UgOiAnJywKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIGltYWdlOiAnJywKICAgICAgICAgICAgY2VydGlmaWNhdGVEYXRhOiBbXQogICAgICAgIH07CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdvVG9Ub3AoKTsKICAgICAgICB0aGlzLmRlY29kZURhdGEoKTsKICAgICAgICB0aGlzLmdldENlcnRpZmljYXRlcygpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGV4cG9ydFRvUERGKCkgewogICAgICAgICAgICBodG1sMnBkZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWxlbWVudC10by1jb252ZXJ0IiksIHsKICAgICAgICAgICAgICAgIG1hcmdpbjogMSwKICAgICAgICAgICAgICAgIGZpbGVuYW1lOiAiaS13YXMtaHRtbC5wZGYiLAogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGdlbmVyYXRlUERGKCkgewogICAgICAgICAgICAvLyBDaG9vc2UgdGhlIGVsZW1lbnQgdGhhdCBvdXIgaW52b2ljZSBpcyByZW5kZXJlZCBpbi4KICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZvaWNlJyk7CiAgICAgICAgICAgIC8vIENob29zZSB0aGUgZWxlbWVudCBhbmQgc2F2ZSB0aGUgUERGIGZvciBvdXIgdXNlci4KICAgICAgICAgICAgaHRtbDJwZGYoKS5mcm9tKGVsZW1lbnQpLnNhdmUoKTsKICAgICAgICB9LAogICAgICAgIGRlY29kZURhdGEoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNlcnRpZmljYXRlTmFtZSkgewogICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gd2luZG93LmF0b2IodGhpcy5jZXJ0aWZpY2F0ZU5hbWUpCiAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gd2luZG93LmF0b2IodGhpcy5jZXJ0aWZpY2F0ZUltYWdlKQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5teURhdGEpOyAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdvVG9Ub3AoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7CiAgICAgICAgfSwKICAgICAgICBnZXRDZXJ0aWZpY2F0ZXMoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7CiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KHRoaXMuJHJvb3QuVVJMX1JPT1QgKyAiYXBpLnBocCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImdldE15Q2VydGlmaWNhdGUiLAogICAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsZi5pbWFnZSwKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNlcnRpZmljYXRlRGF0YSA9IGRhdGEuY2VydGlmaWNhdGU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["DownloadCertificate.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DownloadCertificate.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n    <button class=\"btn btn-primary\" @click=\"exportToPDF\">Print Download</button>\n    <div id=\"element-to-convert\">\n        <img :src=\"$root.URL_ROOT+'uploads/Certificate/'+certificateData.image\" />\n        <h1 class=\"name\" :style=\"'color:'+certificateData.color+';font-size:'+certificateData.font+';'\"> {{name}} </h1>\n    </div>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport html2pdf from \"html2pdf.js\";\nexport default {\n    props: [\"data\"],\n    components: {},\n    data() {\n        return {\n            userName: '',\n            certificateName: this.$route.params.name ? this.$route.params.name : '',\n            certificateImage: this.$route.params.image ? this.$route.params.image : '',\n            name: '',\n            image: '',\n            certificateData: []\n        };\n    },\n    mounted() {\n        this.goToTop();\n        this.decodeData();\n        this.getCertificates()\n    },\n    methods: {\n        exportToPDF() {\n            html2pdf(document.getElementById(\"element-to-convert\"), {\n                margin: 1,\n                filename: \"i-was-html.pdf\",\n            });\n        },\n        generatePDF() {\n            // Choose the element that our invoice is rendered in.\n            const element = document.getElementById('invoice');\n            // Choose the element and save the PDF for our user.\n            html2pdf().from(element).save();\n        },\n        decodeData() {\n            if (this.certificateName) {\n                this.name = window.atob(this.certificateName)\n                this.image = window.atob(this.certificateImage)\n                // console.log(this.myData);              \n            }\n        },\n        goToTop() {\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n        getCertificates() {\n            if (this.image) {\n                const axios = require(\"axios\");\n                var self = this;\n                axios.post(this.$root.URL_ROOT + \"api.php\", {\n                        type: \"getMyCertificate\",\n                        id: self.image,\n                    })\n                    .then(function (response) {\n                        var data = response.data;\n                        console.log(data);\n                        self.certificateData = data.certificate;\n                    });\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.name {\n    font-weight: bold;\n    position: absolute;\n    top: 58%;\n    z-index: 999;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n</style>\n"]}]}